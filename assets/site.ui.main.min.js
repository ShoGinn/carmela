"use strict";window.Site=window.Site||{},window.Site.UI=window.Site.UI||{},window.Site.UI.Main=function($,undefined){var self={};self.setupAfterData=function(){var attr;$("#divHeaderClientName").text(""),$("#divProjectName").text($dataInfo.attr("projectname")),$("#divPlanName").text($dataInfo.attr("displayname")),void 0!==(attr=$dataInfo.attr("clientfaviconurl"))&&!1!==attr&&attr.length>0&&$("#faviconURL").attr("href",attr),void 0!==(attr=$dataInfo.attr("clientmetadescription"))&&!1!==attr&&attr.length>0&&($("#metadescription").attr("content",attr),$("#ogmetadescription").attr("content",attr));var infoURL=$dataInfo.attr("infourl");infoURL&&$("#lnkHeaderLogo").prop("href",infoURL),$("#imgHeaderLogo").imgRetina({new_base_src:$dataInfo.attr("logofile"),fade_in_speed:EFFECT_SPEED_FADE_IN});var headerCenterURL=$dataInfo.attr("headercenterurl");headerCenterURL&&$("#lnkHeaderCenter").prop("href",headerCenterURL),$("#imgHeaderCenter").imgRetina({new_base_src:$dataInfo.attr("headercenterfile"),fade_in_speed:EFFECT_SPEED_FADE_IN}),optionsSetupAfterData()},self.oFnOv_setupAfterData=undefined,self.setupAfterTS=function(){dataIsLoaded=!0;var viewID=$($dataViews.find("view")[0]).attr("id");viewShow(viewID),optionsShow(0);var qs=$.deparam.querystring(),fStatus=qs.fstatus,fMsg=qs.fmsg;if(fStatus>0&&undefined!==fMsg&&""!==fMsg){var fColor=Site.Data.Main.$dataLegends.find("legenditem[id=lgi-"+fStatus+"]").attr("color1");$("#divStatus").css("background",fColor),$("#divStatus").css("text-align","center"),uiStatusMsg(fMsg,!0,!1)}else uiStatusMsgReady();setTimeout("uiSetupPrintIFrame();",500)},self.oFnOv_setupAfterTS=undefined,self.setupLayout=function(){var layoutConfig,dbOverride,qsOverride;dbg("Site.UI.Main.setupLayout()"),$("#divTools").children().hide(),$("#btnPrint, #btnZoomAll, #divZoomSlider").show(),$("#divMenu").hide(),isSmallScreen()?(layoutConfig=UI_QS_LAYOUT_SMALLSCREEN_DEFAULT_SITEPLAN,dbOverride=dataUILayoutStringSS||""):(layoutConfig=UI_QS_LAYOUT_DEFAULT_SITEPLAN,dbOverride=dataUILayoutString||""),dbOverride=$.deparam(dbOverride),$.extend(layoutConfig,dbOverride),qsOverride=$.deparam.querystring(),$.extend(layoutConfig,qsOverride),qsOverride.fstatus>0&&(layoutConfig.op=0),1==layoutConfig.slr&&($("#pnlHeader").addClass("swap-left-right"),$("#pnlMain").addClass("swap-left-right"),$("#pnlFooter").addClass("swap-left-right"));var $pnlHeader=$("#pnlHeader");0==layoutConfig.hd?$pnlHeader.hide():1!=layoutConfig.hd&&2!=layoutConfig.hd||$pnlHeader.show();var $pnlFooter=$("#pnlFooter"),$handleFooter=$("#handleFooter");$pnlFooter.empty(),0==layoutConfig.ft?($pnlFooter.hide(),$handleFooter.hide()):1==layoutConfig.ft?($pnlFooter.show(),$handleFooter.show(),uiDrawerFooterToggle(!0)):2==layoutConfig.ft&&($pnlFooter.show(),$handleFooter.show());var $handleMainA=$("#handleMainA"),$divTools=$("#divTools");isSmallScreen()?($handleMainA.hide(),$divTools.hide(),1!=layoutConfig.tl&&2!=layoutConfig.tl||$pnlFooter.prepend($("#btnSave"))):0==layoutConfig.tl?($handleMainA.hide(),$divTools.hide()):1==layoutConfig.tl?($handleMainA.show(),$divTools.show(),uiDrawerAToggle(!0)):2==layoutConfig.tl&&($handleMainA.show(),$divTools.show());var $pnlMainC=$("#pnlMainC"),$handleMainC=$("#handleMainC");isSmallScreen()&&$("#layoutComponents, #layoutFurniture").remove(),0==layoutConfig.op?($pnlMainC.hide(),$handleMainC.hide(),$("#pnlMainC").css("width",0)):1==layoutConfig.op?($pnlMainC.show(),$handleMainC.show(),uiDrawerCToggle(!0)):2==layoutConfig.op&&($pnlMainC.show(),$handleMainC.show()),uiLayoutOptionsPOISetupPopup()},self.oFnOv_setupLayout=undefined;return self.oFnOv_setupAfterData=VIP.Util.FnOverride("uiSetupAfterData",self.setupAfterData),self.oFnOv_setupAfterTS=VIP.Util.FnOverride("uiSetupAfterTS",self.setupAfterTS),self.oFnOv_setupLayout=VIP.Util.FnOverride("uiSetupLayout",self.setupLayout),self}(jQuery);var UI_QS_LAYOUT_DEFAULT_SITEPLAN={hd:1,ft:0,tl:2,op:1,slr:0},UI_QS_LAYOUT_SMALLSCREEN_DEFAULT_SITEPLAN={hd:0,ft:1,tl:2,op:1,slr:0};