"use strict";window.VIP=window.VIP||{},window.VIP.UI=window.VIP.UI||{},function(Namespace,$,undefined){Namespace.WidgetToolTip=function(options){var self={},_$element=undefined,_$titleElement=undefined,_$arrowElement=undefined,_$edgesContainer=undefined,_resizeObserver=undefined,_isVisible=!1;self.options={jqsElement:$("#divToolTip"),jqsTitleElement:$("#divToolTipTitle"),jqsArrowElement:$("#divToolTipArrow"),jqsEdgeContainer:$(window),fade:!1},self.isVisible=function(){return _isVisible},self.setup=function(pxPageX,pxPageY,bShowNow,htmlBody,htmlTitle){_$element=$(self.options.jqsElement),_$titleElement=$(self.options.jqsTitleElement),_$arrowElement=$(self.options.jqsArrowElement),_$edgesContainer=$(self.options.jqsEdgeContainer),self.updateHtml(htmlBody,htmlTitle),self.updatePosition(pxPageX,pxPageY,bShowNow)},self.show=function(){_isVisible||(_$element.show(),_$titleElement.show(),_$arrowElement.show()),_$element.mCustomScrollbar("stop"),_$element.mCustomScrollbar("destroy"),_$element.mCustomScrollbar({theme:"vip",axis:"y",scrollButtons:{enable:!0},autoDraggerLength:!1,scrollInertia:200,documentTouchScroll:!1,updateOnContentResize:!0}),_isVisible=!0,_onResizedObserve()},self.hide=function(){_isVisible&&(_$element.hide(),_$titleElement.hide(),_$arrowElement.hide()),_$element&&_$element.length>0&&_$element.hasClass("mCustomScrollbar")&&(_$element.mCustomScrollbar("stop"),_$element.mCustomScrollbar("destroy")),_isVisible=!1,_onResizedCancel()},self.updatePosition=function(pxPageX,pxPageY,bShowNow){pxPageX=parseInt(pxPageX,10),pxPageY=parseInt(pxPageY,10);var containerBounds=_$edgesContainer.bounds();_$element.bounds();pxPageY>containerBounds.top+containerBounds.height/2?(pxPageY=window.innerHeight-pxPageY-14,_$element.css("top","auto").css("bottom",pxPageY+"px"),_$arrowElement.css("top","auto").css("bottom",pxPageY+9+"px"),_$arrowElement.addClass("onbottom")):(pxPageY=pxPageY-containerBounds.top-14,_$element.css("bottom","auto").css("top",pxPageY+"px"),_$arrowElement.css("bottom","auto").css("top",pxPageY+9+"px"),_$arrowElement.removeClass("onbottom")),pxPageX>containerBounds.left+containerBounds.width/2?(pxPageX=window.innerWidth-pxPageX+20,_$element.css("left","auto").css("right",pxPageX+"px"),_$arrowElement.css("left","auto").css("right",pxPageX-6+"px"),_$arrowElement.addClass("onright")):(pxPageX=pxPageX-containerBounds.left+20,_$element.css("right","auto").css("left",pxPageX+"px"),_$arrowElement.css("right","auto").css("left",pxPageX-6+"px"),_$arrowElement.removeClass("onright")),bShowNow&&self.show()},self.updateHtml=function(htmlBody,htmlTitle){_$element.html(htmlBody),_$titleElement.html(htmlTitle)};var _onResized=function(entries,observer){var containerBounds,tooltipBounds;self.isVisible()?(containerBounds=_$edgesContainer.bounds(),tooltipBounds=_$element.bounds(),_$titleElement.css("top",tooltipBounds.y-containerBounds.y+"px").css("left",tooltipBounds.x-containerBounds.x+"px").width(tooltipBounds.inner.width)):_onResizedCancel()},_onResizedObserve=function(){_resizeObserver=new ResizeObserver(_onResized).observe(_$element.get(0))},_onResizedCancel=function(){_resizeObserver&&_resizeObserver.disconnect()};return $.extend(self.options,options),self}}(window.VIP.UI=window.VIP.UI||{},jQuery);